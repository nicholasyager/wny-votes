<!DOCTYPE html>
<html ng-app="wnyVotes">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>WNY Votes</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

        <script type="text/javascript" 
                src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"> </script>   
        <script src="js/wnyVotes.js"></script>

        <!-- Optional theme -->
        <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">-->
        <link rel="stylesheey" href="css/flat-ui.min.css">
        <link rel=stylesheet href=css/app.css >
        <link rel="stylesheet" href="css/carousel.css">

        <!-- Latest compiled and minified JavaScript -->
    </head>

    <body>
        <div ng-app>
            <div ng-controller="Controller">
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            <img class="first-slide" src="images/skyline2.jpg" alt="Buffalo Skyline">
                            <div class="container">
                                <div class="carousel-caption">
                                    <h1>WNY Votes</h1>
                                    <p>Learn about WNY politicians, register to vote, and participate in WNY Government.</p>
                                    <div class=row>
                                        <div class="col-lg-2"></div>
                                        <a class="btn btn-lg btn-primary col-xs-12 col-lg-4" ng-click="moveTo('findCandidates')">Find your District</a>
                                        <a class="btn btn-lg btn-success col-xs-12 col-lg-4" ng-click="moveTo('registerToVote')">Register to Vote</a>
                                        <div class="col-lg-2"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id=findCandidates class="section">
                    <h2>Find Your District <span ng-click="moveTo('myCarousel')" class="pull-right glyphicon glyphicon-chevron-up" aria-hidden="true"></span></h2>
                    <div class=vertical-center>
                        <div class="row">
                            <div class="col-sm-2 vcenter"></div>
                            <div class="col-sm-4 vcenter">
                                <form id="formDiv">
                                    <div class="row">
                                        <div class=form-group-sm>
                                            <div class="col-xs-12 col-lg-3">
                                                <input ng-model="location.address" type=text class="form-control" placeholder="100" />
                                            </div>
                                            <div class="col-xs-12 col-lg-7">
                                                <input ng-model="location.street" type=text class="form-control" placeholder="Ellicott" />
                                            </div>
                                            <div class="col-xs-12 col-lg-2">
                                                <input ng-model="location.type" type=text class="form-control" placeholder="Street" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="form-group-sm">
                                            <div class="col-xs-12 col-lg-6">
                                                <input ng-model="location.city" type=text class="form-control" placeholder="Buffalo" />
                                            </div>
                                            <div class="col-xs-12 col-lg-6">
                                                <input ng-model="location.zipcode" type=text class="form-control" placeholder="14216" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class=row>
                                        <div class=col-xs-4></div>
                                        <button ng-click="search(location)" id=submitRepSearch class="btn btn-default col-xs-4">Search</button><span class="failure">{{alert}}</span>
                                        <div class=col-xs-4></div>
                                    </div>
                                </form>
                            </div><!--
                            --><div class="col-sm-2 vcenter"></div>
                            <div id="map" class="col-sm-3 vcenter">
                                <img src="images/SVGs/legislative_districts.svg"alt=districtmape width=100% />
                            </div>
                            <div class="col-sm-1 vcenter"></div>
                        </div>
                    </div>
                </div>
                <div id=meetCandidates class=section>
                    <h2>Meet Your Candidates<span ng-click="moveTo('findCandidates')" class="pull-right glyphicon glyphicon-chevron-up" aria-hidden="true"></span></h2>
                    <div class="row">
                        <div class='candidateContainer col-md-3 col-sm-5' ng-repeat="candidate in candidates">
                            <a href="{{office.website}}">
                                <div class="candidate" >
                                    <span class="label {{candidate.party}} pull-right">{{candidate.party}}</span>
                                    <p id=name>{{candidate.name}}</p>
                                    <p id=title>{{candidate.title | lowercase | capitalize}}</p>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class=row>
                        <div class=col-md-4></div>
                        <button id=pollbutton ng-click="moveTo('pollingLocation')" class="btn btn-lg btn-warning col-xs-12 col-lg-4">Find your Polling Location</button>
                        <div class=col-md-4></div>
                    </div>
                </div>

                <div id=pollingLocation class=section>
                    <h2>Your Polling Location<span ng-click="moveTo('meetCandidates')" class="pull-right glyphicon glyphicon-chevron-up" aria-hidden="true"></span></h2>
                    <div class="row card" ng-repeat="location in pollingLocations">
                        <div class="col-xs-12  col-md-6" >
                            <div >
                                <h3>{{location.defaultPollingPlace.name | lowercase | capitalize}}</h3>
                                {{location.defaultPollingPlace.streetAddress.address1 | lowercase | capitalize}}<br>
                                {{location.defaultPollingPlace.streetAddress.city | lowercase | capitalize}}, 
                                {{location.defaultPollingPlace.streetAddress.state}} 
                                {{location.defaultPollingPlace.streetAddress.zip }} <br>
                                <div class=detail>{{location.defaultPollingPlace.directions.englishText | lowercase | capitalize}}</div>
                                <br>
                            </div>
                        </div>
                        <div class="col-xs-12  col-md-6">
                            <div class="google-maps">
                                <iframe src="https://www.google.com/maps?hl=en&q={{location.mapHref}}&output=embed" width="600" height="450" frameborder="0" style="border:0" allowfullscreen></iframe> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id=registerToVote class=section>
                <h2>Register To Vote</h2>
            </div>

        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

        <script>


$(document).ready(function(){
    var height = "innerHeight" in window 
        ? window.innerHeight
        : document.documentElement.offsetHeight;

    $(".carousel-inner > .item").height(height);
    $(".section").height(height);
});

/*
   function handleData(data) {
   for (i = 0; i < data.length / 3; i++) {
   $("#meetRepresentatives").append("<div id=row"+i+" class='row'></div>");
   }

   $.each(data, function(index) {
   var row = Math.floor(index / 4);
   console.log(row);
   $("#meetRepresentatives #row"+row).append("<div class='candidateContainer col-md-3 col-sm-5'><div class=candidate><p id=name>"+this.first_name+" "+this.middle_name+" "+this.last_name+"</p><p id=title>"+this.office+" ("+this.party+")</p></div></div>");
   console.log(this);
   });
   }

   $(document).ready(function(){

   $("#submitRepSearch").click(function() {
   $("#meetRepresentatives div").remove();
   $.ajax({
   type: "GET",
   url: '/representatives?city='+$("#city").val(),
   complete: function(data) {
   handleData(data.responseJSON);
   }
   });
   });
                // jQuery methods go here...

                })
 */;
        </script>

    </body>

</html>
